pipeline
{
  agent any
  tools
  {
	maven 'maven3.9.0'
  }
  parameters
  {
    choice{name: 'BranchName',choices:['master','development','stage'], description: 'using this we can pass parameters for branch name'}
   
  }

  stages{
    stage ('checkoutcode')
    {
        steps
      {
             git branch: 'development', credentialsId: 'Git_credentials', url: 'https://github.com/maheshgamyadevops/maven-web-application.git'
      }
    }
	stage ('build')
    {
        steps
      {
             sh "mvn clean package"
      }
    }
	stage ('deployToContainer')
    {
        steps
      {
            deploy adapters: [tomcat9(credentialsId: 'tomcat_Credentials', path: '', url: 'http://3.111.217.128:8080/')], contextPath: null, war: '**/maven-web-application.war'
      }
    }
    
  }
  
}


